(this["webpackJsonppushkar-aryaa-taskboard"]=this["webpackJsonppushkar-aryaa-taskboard"]||[]).push([[0],{411:function(e,t,n){},422:function(e,t,n){"use strict";n.r(t);var i,a=n(0),c=n.n(a),r=n(25),s=n.n(r),o=n(5),l=n(47),d=n(429),b=n(424),u=n(147),j=n.n(u),O=n(48),f=n(28),p=n(433),x=n(146),h=n(434),g=n(435),m=n(436),v=n(437),I=n(438),S=n(7),w=function(){return Object(S.jsxs)(f.c,{collapsed:!0,breakPoint:"md",children:[Object(S.jsx)(f.f,{children:Object(S.jsx)("div",{style:{padding:"24px 0px",textTransform:"uppercase",fontWeight:"bold",fontSize:20,letterSpacing:"1px",overflow:"hidden",whiteSpace:"nowrap",textAlign:"center"},children:Object(S.jsx)(p.a,{})})}),Object(S.jsx)("div",{className:"divider"}),Object(S.jsxs)(f.d,{children:[Object(S.jsxs)(f.a,{iconShape:"circle",children:[Object(S.jsx)(f.b,{icon:Object(S.jsx)(x.a,{}),suffix:Object(S.jsx)("span",{className:"badge red",children:"New"}),children:"Dashboard"}),Object(S.jsx)(f.b,{icon:Object(S.jsx)(h.a,{}),children:"Components"})]}),Object(S.jsx)("div",{className:"divider"}),Object(S.jsxs)(f.a,{iconShape:"circle",children:[Object(S.jsxs)(f.g,{suffix:Object(S.jsx)("span",{className:"badge yellow",children:"3"}),title:"With Suffix",icon:Object(S.jsx)(g.a,{}),children:[Object(S.jsx)(f.b,{children:"SubMenu 1"}),Object(S.jsx)(f.b,{children:"SubMenu 2"}),Object(S.jsx)(f.b,{children:"SubMenu 3"})]}),Object(S.jsxs)(f.g,{prefix:'<span className="badge gray">3</span>',title:"With Prefix",icon:Object(S.jsx)(m.a,{}),children:[Object(S.jsx)(f.b,{children:"SubMenu 1"}),Object(S.jsx)(f.b,{children:"SubMenu 2"}),Object(S.jsx)(f.b,{children:"SubMenu 3"})]}),Object(S.jsxs)(f.g,{title:"Multi Level",icon:Object(S.jsx)(v.a,{}),children:[Object(S.jsx)(f.b,{children:"SubMenu 1 "}),Object(S.jsx)(f.b,{children:"SubMenu 2 "}),Object(S.jsxs)(f.g,{title:"$SubMenu  3",children:[Object(S.jsx)(f.b,{children:"SubMenu 3.1 "}),Object(S.jsx)(f.b,{children:"SubMenu 3.2 "}),Object(S.jsxs)(f.g,{title:"$SubMenu  3.3",children:[Object(S.jsx)(f.b,{children:"SubMenu 3.3.1 "}),Object(S.jsx)(f.b,{children:"SubMenu 3.3.2 "}),Object(S.jsx)(f.b,{children:"SubMenu SubMenu SubMenu 3.3.3 "})]})]})]})]})]}),Object(S.jsx)("div",{className:"divider"}),Object(S.jsx)(f.e,{style:{textAlign:"center"},children:Object(S.jsx)("div",{className:"sidebar-btn-wrapper",children:Object(S.jsxs)("span",{className:"sidebar-btn",children:[Object(S.jsx)(I.a,{}),Object(S.jsx)("span",{children:"Account"})]})})})]})},T=n(67),y={isLoading:!1,setIsLoading:function(){throw new Error("setIsLoggedIn function must be overridden")},isLoggedIn:!1,setIsLoggedIn:function(){throw new Error("setIsLoggedIn function must be overridden")},allJobTitles:[],setAllJobTitles:function(){throw new Error("setAllJobTitles function must be overridden")},filteredJobTitles:[],setFilteredJobTitles:function(){throw new Error("setAllJobTitles function must be overridden")}},E=c.a.createContext(y),k=n(10),L=n(430),A=L.a.Option;function C(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useContext)(E);return Object(a.useEffect)((function(){var e=[];c.allJobTitles.forEach((function(t){e.push(Object(S.jsx)(A,{value:t,children:t},t))})),i(e)}),[c.allJobTitles]),Object(S.jsxs)("span",{id:"filter-container",children:[Object(S.jsx)("label",{htmlFor:"jobTitleFilter",children:"Show Only : "}),Object(S.jsx)(L.a,{id:"jobTitleFilter",mode:"multiple",allowClear:!0,style:{width:"50%"},placeholder:"Please select",onSelect:function(e){var t=[].concat(Object(k.a)(c.filteredJobTitles),[e]);c.setFilteredJobTitles(t)},onDeselect:function(e){var t=Object(k.a)(c.filteredJobTitles);t.splice(t.indexOf(e),1),c.setFilteredJobTitles(t)},disabled:!c.isLoggedIn,children:n})]})}var J=O.a.div(i||(i=Object(l.a)(["\n  border-top: 1px solid #e9eef2;\n  border-bottom: 1px solid #e9eef2;\n  padding: 5px 0px;\n  width: 100%;\n  margin: auto;\n"])));var D,N=function(){var e=Object(a.useContext)(E);return Object(S.jsxs)(J,{children:[Object(S.jsx)(C,{}),Object(S.jsx)(T.a,{id:"loginBtn",type:"primary",onClick:function(){e.setIsLoggedIn(!e.isLoggedIn)},children:e.isLoggedIn?"Logout":"Login"})]})},P=n(1),M=n(33),F=n.n(M),R=n(57),B=n(8),_=n(115),q=n(103);!function(e){e.APPLICANTS="Applicants",e.UNDER_REVIEW="Under Review",e.SELECTED="Selected",e.REJECTED="Rejected"}(D||(D={}));var U=n(428),W=n(431),V=n(432),$=n(425),z=n(113),H=n.n(z),G=n(439);var K=function(e){var t=e.visible,n=e.initialValues,i=e.onCancel,c=e.onOk,r=U.a.useForm(),s=Object(o.a)(r,1)[0],l=Object(a.useState)(null),d=Object(o.a)(l,2),b=d[0],u=d[1],j=Object(a.useRef)(null),O=Object(a.useContext)(E);return Object(a.useEffect)((function(){var e;t&&(null===(e=j.current)||void 0===e||e.focus(),s.resetFields())}),[s,t]),Object(S.jsx)(W.a,{title:"Add Item",visible:t,destroyOnClose:!0,forceRender:!0,onCancel:i,onOk:function(){return s.submit()},children:Object(S.jsxs)(U.a,{autoComplete:"off",form:s,layout:"vertical",initialValues:n,onFinish:function(){var e=Object(R.a)(F.a.mark((function e(t){var n,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.setIsLoading(!0),t.status=D.APPLICANTS,(n=new FormData).append("name",t.name),n.append("title",t.title),n.append("description",t.description),n.append("status",t.status),b&&n.append("profileImg",b),e.next=10,H.a.post("http://ayrataskdemo.eu-west-1.elasticbeanstalk.com/api/user-profile",n);case 10:a=e.sent,t=a.data.applicantCreated,c(t),s.resetFields(),i(),O.setIsLoading(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(S.jsx)(U.a.Item,{name:"title",label:"Job Title",rules:[{required:!0,message:"'Job Title' is required"},{max:100,message:"'Job Title' can not be longer than 100 characters"}],children:Object(S.jsx)(V.a,{ref:j,autoFocus:!0})}),Object(S.jsx)(U.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"'Name' is required"},{max:100,message:"'Name' can not be longer than 100 characters"}],children:Object(S.jsx)(V.a,{})}),Object(S.jsx)(U.a.Item,{name:"description",label:"Description",rules:[{required:!0,message:"'Description' is required"},{max:400,message:"'Description' can not be longer than 400 characters"}],children:Object(S.jsx)(V.a.TextArea,{rows:4})}),Object(S.jsx)(U.a.Item,{name:"upload",label:"Upload",valuePropName:"fileList",getValueFromEvent:function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},extra:"Upload you profile pic",children:Object(S.jsx)($.a,{name:"logo",listType:"picture",beforeUpload:function(e){return u(e),!1},children:Object(S.jsx)(T.a,{icon:Object(S.jsx)(G.a,{}),children:"Click to upload"})})})]})})},Q=n(426),X=n(427),Y=n(440),Z=n(77);var ee,te,ne=function(e){return Object(S.jsx)(Z.a,Object(P.a)({mouseEnterDelay:1.5},e))},ie=(n(65).geekblue,"#E9EAED"),ae="#B4BBC4",ce="#B4BBC4",re="#999",se=n(217),oe=n.n(se),le=Object(O.a)(Q.a)(ee||(ee=Object(l.a)(["\n\tmargin: 0.5rem;\n\tbackground-color: ",";\n\tborder-radius: 5px;\n\ttransform: rotate(","deg);\n\n\t.ant-card-body {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex: inherit;\n\t}\n\t.avatar-container {\n\t\twidth: 90px;\n\t}\n"])),(function(e){return e.$isDragging?"#fafafa":"#fff"}),(function(e){return e.$isDragging?"10":"0"})),de=Object(O.a)(d.a.Title)(te||(te=Object(l.a)(['\n\twhite-space: pre-wrap;\n\t// To make ellipsis of the title visible.\n\t// Without this margin, it can be go behind the "extra" component.\n\t// So, we give it a little space.\n\tmargin-right: 0.25rem;\n\t&.ant-typography {\n\t\tcolor: ',";\n\t\tmargin-bottom: 0px;\n\t}\n"])),re);var be,ue,je=function(e){var t=e.item,n=(e.status,e.isDragging);return e.onEdit,e.onDelete,Object(S.jsxs)(le,{$isDragging:n,size:"small",title:Object(S.jsx)(ne,{overlay:t.title,children:Object(S.jsx)("span",{children:Object(S.jsx)(de,{level:5,ellipsis:{rows:2},children:t.title})})}),children:[Object(S.jsx)("div",{className:"avatar-container",children:Object(S.jsx)(oe.a,{src:t.profileImg?Object(S.jsx)(X.a,{src:t.profileImg}):"",icon:t.profileImg?"":Object(S.jsx)(Y.a,{}),size:60})}),Object(S.jsxs)("div",{className:"card-content-container",children:[Object(S.jsx)(d.a.Title,{level:5,children:t.name}),Object(S.jsx)(d.a.Paragraph,{type:"secondary",ellipsis:{rows:2},children:t.description})]})]})},Oe=n(99),fe=Object(O.a)(Q.a)(be||(be=Object(l.a)(["\n  user-select: none;\n  flex: 1;\n  margin: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  // To force each flex item to have equal width\n  // even if they have long texts with no spaces etc.\n  min-width: 0;\n  > .ant-card-body {\n    overflow: hidden;\n    height: 100%;\n    padding: 0;\n  }\n  > .ant-card-head {\n    background-color: ",";\n  }\n  .ant-card-extra {\n    padding: 0px;\n  }\n  .task-title {\n    color: ",";\n    font-weight: bold;\n  }\n  .item-count {\n    background-color: ",";\n    padding: 0px 5px;\n    border-radius: 5px;\n    color: #fff;\n  }\n"])),ie,re,ce),pe=O.a.div(ue||(ue=Object(l.a)(["\n  height: 100%;\n  overflow-y: auto;\n  background-color: ",";\n"])),(function(e){return e.isDraggingOver?ae:ie}));function xe(e,t){if(!t.isDropAnimating)return e;var n=t.dropAnimation,i=n.moveTo,a=n.curve,c=n.duration,r="translate(".concat(i.x,"px, ").concat(i.y,"px)");return Object(P.a)(Object(P.a)({},e),{},{transform:"".concat(r," ").concat("rotate(-10deg)"),transition:"all ".concat(a," ").concat(c,"s")})}var he,ge,me,ve=function(e){var t=e.items,n=e.status,i=e.onClickAdd,c=e.onEdit,r=e.onDelete,s=Object(a.useContext)(E);return Object(S.jsx)(fe,{title:Object(S.jsxs)("span",{className:"task-title",children:[Object(S.jsx)(Oe.a,{style:{fontWeight:"bold"}})," ",n," ",t.length?Object(S.jsx)("span",{className:"item-count",children:t.length}):""]}),extra:i&&Object(S.jsx)(T.a,{type:"primary",onClick:i,disabled:!s.isLoggedIn,children:"Add Applicant"}),children:Object(S.jsx)(_.c,{droppableId:n,children:function(e,i){return Object(S.jsxs)(pe,Object(P.a)(Object(P.a)({ref:e.innerRef},e.droppableProps),{},{isDraggingOver:i.isDraggingOver,children:[t.map((function(e,t){return Object(S.jsx)(_.b,{draggableId:e._id,index:t,children:function(t,i){return Object(S.jsx)("div",Object(P.a)(Object(P.a)(Object(P.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:xe(t.draggableProps.style,i),children:Object(S.jsx)(je,{item:e,status:n,isDragging:i.isDragging,onEdit:c,onDelete:r})}),e._id)}},e._id)})),e.placeholder]}))}})})},Ie=n(114);var Se=O.a.div(he||(he=Object(l.a)(["\n  min-height: 0;\n  height: 100%;\n  min-width: 800px;\n  max-width: 1400px;\n  margin: auto;\n"]))),we=O.a.div(ge||(ge=Object(l.a)(["\n  height: 100%;\n  padding: 0.5rem;\n  display: flex;\n  justify-content: space-around;\n"]))),Te=(me={},Object(B.a)(me,D.APPLICANTS,[]),Object(B.a)(me,D.UNDER_REVIEW,[]),Object(B.a)(me,D.SELECTED,[]),Object(B.a)(me,D.REJECTED,[]),me);var ye,Ee,ke,Le=function(){var e=Object(a.useContext)(E),t=function(e,t,n){var i=Object(a.useCallback)((function(){var i;return n?t:null!==(i=Object(Ie.b)((function(){var t;return JSON.parse(null!==(t=localStorage.getItem(e))&&void 0!==t?t:"")})).data)&&void 0!==i?i:t}),[t,e,n]),c=Object(a.useState)((function(){return i()})),r=Object(o.a)(c,2),s=r[0],l=r[1];return Object(a.useEffect)((function(){function e(){l(i)}return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[i]),Object(a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(s))}),[e,s]),[s,l]}("itemsByStatus",Te,!0),n=Object(o.a)(t,2),i=n[0],c=n[1];Object(a.useEffect)((function(){Object(R.a)(F.a.mark((function t(){var n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isLoggedIn){t.next=10;break}return e.setIsLoading(!0),t.next=4,Object(Ie.a)((function(){return H.a.get("http://ayrataskdemo.eu-west-1.elasticbeanstalk.com/api")}));case 4:if(!(n=t.sent).error){t.next=7;break}return t.abrupt("return");case 7:c((function(t){return Object(q.a)(t,(function(t){var i,a,c,r=[];null===(i=n.data)||void 0===i||null===(a=i.data)||void 0===a||null===(c=a.users)||void 0===c||c.forEach((function(e){t[e.status].push(e),-1===r.indexOf(e.title)&&r.push(e.title)})),e.setAllJobTitles(r),e.setIsLoading(!1)}))})),t.next=11;break;case 10:c((function(t){return Object(q.a)(t,(function(t){Object.values(D).forEach((function(e){t[e]=[]})),e.setAllJobTitles([]),e.setIsLoading(!1)}))}));case 11:case"end":return t.stop()}}),t)})))()}),[e.isLoggedIn,c]);var r=Object(a.useState)(!1),s=Object(o.a)(r,2),l=s[0],d=s[1],b=Object(a.useState)(null),u=Object(o.a)(b,2),j=u[0],O=u[1],f=function(e){O(e),d(!0)},p=function(e){var t=e.status,n=e.itemToDelete;return c((function(e){return Object(q.a)(e,(function(e){e[t]=e[t].filter((function(e){return e._id!==n._id}))}))}))},x=Object(a.useMemo)((function(){var e,t,n,i;return{title:null!==(e=null===j||void 0===j?void 0:j.title)&&void 0!==e?e:"",description:null!==(t=null===j||void 0===j?void 0:j.description)&&void 0!==t?t:"",name:null!==(n=null===j||void 0===j?void 0:j.name)&&void 0!==n?n:"",status:null!==(i=null===j||void 0===j?void 0:j.status)&&void 0!==i?i:""}}),[j]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(_.a,{onDragEnd:function(e){var t=e.source,n=e.destination;c((function(e){return Object(q.a)(e,(function(e){if(n){var i=e[t.droppableId].splice(t.index,1),a=Object(o.a)(i,1)[0];a.status=n.droppableId,e[n.droppableId].splice(n.index,0,a),Object(Ie.a)((function(){return H.a.post("http://ayrataskdemo.eu-west-1.elasticbeanstalk.com/api/update-status",a)})).then((function(e){e.error?console.log("status update failed"):console.log("status update successfull")}))}}))}))},children:Object(S.jsx)(Se,{children:Object(S.jsx)(we,{children:Object.values(D).map((function(t){return Object(S.jsx)(ve,{status:t,items:i[t].filter((function(t){return!(e.filteredJobTitles.length>0)||e.filteredJobTitles.indexOf(t.title)>-1})),onClickAdd:t===D.APPLICANTS?function(){return f(null)}:void 0,onEdit:f,onDelete:p},t)}))})})}),Object(S.jsx)(K,{visible:l,onCancel:function(){O(null),d(!1)},onOk:function(t){c((function(n){return Object(q.a)(n,(function(n){if(j){var i=Object.values(n).flatMap((function(e){return e})).find((function(e){return e._id===j._id}));i&&(i.title=t.title,i.description=t.description,i.name=t.name)}else n[D.APPLICANTS].push(Object(P.a)(Object(P.a)({},t),{},{status:D.APPLICANTS}));var a=Object(k.a)(e.allJobTitles);-1===a.indexOf(t.title)&&(a.push(t.title),e.setAllJobTitles(a))}))}))},initialValues:x})]})},Ae=(n(411),Object(O.a)(j.a)(ye||(ye=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"])))),Ce=Object(O.a)(u.Header)(Ee||(Ee=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  background-color: #fff;\n"]))),Je=Object(O.a)(u.Content)(ke||(ke=Object(l.a)(["\n  background-color: #fff;\n  height: 100%;\n"])));var De=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),r=Object(o.a)(c,2),s=r[0],l=r[1],u=Object(a.useState)([]),j=Object(o.a)(u,2),O=j[0],f=j[1],p=Object(a.useState)([]),x=Object(o.a)(p,2),h={isLoading:n,setIsLoading:i,isLoggedIn:s,setIsLoggedIn:l,allJobTitles:O,setAllJobTitles:f,filteredJobTitles:x[0],setFilteredJobTitles:x[1]};return Object(S.jsx)(E.Provider,{value:h,children:Object(S.jsx)(Ae,{children:Object(S.jsxs)("div",{className:"app",children:[Object(S.jsx)(w,{}),Object(S.jsxs)("div",{className:"drag-drop-container",children:[Object(S.jsx)(Ce,{children:Object(S.jsx)(d.a.Title,{level:3,children:"Track"})}),Object(S.jsx)(Je,{children:Object(S.jsxs)(b.a,{style:{height:"100%"},size:"large",spinning:h.isLoading,children:[Object(S.jsx)(N,{}),Object(S.jsx)(Le,{})]})})]})]})})})};n(421);s.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(De,{})}),document.getElementById("root"))}},[[422,1,2]]]);
//# sourceMappingURL=main.51cfec76.chunk.js.map